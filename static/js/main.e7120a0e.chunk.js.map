{"version":3,"sources":["Button/Button.module.css","Modal/Modal.module.css","ImageGallery/ImageGallery.module.css","Loader/Loader.module.css","ImageGalleryItem/ImageGalleryItem.module.css","SearchBar/SearchBar.jsx","ImageGalleryItem/ImageGalleryItem.jsx","Loader/Loader.jsx","Button/Button.jsx","services/ImagesApi.jsx","Modal/Modal.jsx","ImageGallery/ImageGallery.jsx","App/App.jsx","index.js","SearchBar/SearchBar.module.css"],"names":["module","exports","SearchBar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","props","onSubmit","className","styles","Searchbar","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","galleryItems","onOpen","map","id","webformatURL","largeImageURL","likes","views","comments","downloads","photo_card","key","src","alt","ImageGalleryItem_image","onClick","stats","stats_item","Loader","Spinner","color","Button","ButtonWrap","searchQuery","page","axios","get","then","response","data","hits","Modal","handleKeyDown","onClose","closeByClick","currentTarget","window","addEventListener","removeEventListener","url","Overlay","onClnick","ImageGallery","isLoading","error","largeImageUrl","openModal","fetchGalleryItems","ImagesApi","prevState","catch","finally","handleSearchFormSubmit","query","setLargeImage","toggleModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","message","length","App","href","rel","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e7120a0e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ButtonWrap\":\"Button_ButtonWrap__3HC4-\",\"Button\":\"Button_Button__1Isrx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__39oN5\",\"Modal\":\"Modal_Modal__1JHsN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1bdRT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__329ez\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__HXNrI\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1m3_y\",\"stats\":\"ImageGalleryItem_stats__27xmX\",\"stats_item\":\"ImageGalleryItem_stats_item__1RqiT\",\"fullscreen_button\":\"ImageGalleryItem_fullscreen_button__-pX_B\",\"gallery_item\":\"ImageGalleryItem_gallery_item__3Iiby\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nclass SearchBar extends Component {\n    static propTypes = {\n        onSubmit: PropTypes.func.isRequired,\n    };\n\n    state = { value: \"\" };\n\n    handleChange = e => {\n        this.setState({ value: e.target.value })\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n        this.props.onSubmit(this.state.value);\n        this.setState({ value: \"\" });\n    };\n\n    render() {\n        return <header className={styles.Searchbar}>\n            <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n                <button type=\"submit\" className={styles.SearchForm_button}>\n                    <span className={styles.SearchForm_button_label}>Search</span>\n                </button>\n                <input\n                    className={styles.SearchForm_input}\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search images and photos\"\n                    onChange={this.handleChange}\n                />\n            </form>\n        </header>\n    }\n};\n\nexport default SearchBar;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ galleryItems, onOpen }) => (\n    galleryItems.map(({ id, webformatURL, largeImageURL, likes, views, comments, downloads }) => (\n        <li className={styles.photo_card} key={id}>\n            <img\n                src={webformatURL}\n                alt=\"\"\n                className={styles.ImageGalleryItem_image}\n                onClick={() => onOpen(largeImageURL)}\n            />\n\n            <div className={styles.stats}>\n                <p className={styles.stats_item}>\n                    <i className=\"material-icons\">thumb_up</i>\n                    {likes}\n                </p>\n                <p className={styles.stats_item}>\n                    <i className=\"material-icons\">visibility</i>\n                    {views}\n                </p>\n                <p className={styles.stats_item}>\n                    <i className=\"material-icons\">comment</i>\n                    {comments}\n                </p>\n                <p className={styles.stats_item}>\n                    <i className=\"material-icons\">cloud_download</i>\n                    {downloads}\n                </p>\n            </div>\n        </li>\n    )));\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n    galleryItems: PropTypes.array.isRequired,\n    onOpen: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { Spinner } from 'react-spinners-css';\nimport styles from './Loader.module.css';\n\nconst Loader = () => (\n    <div>\n        <Spinner className={styles.Spinner} color=\"#3F50B5\" />\n    </div>\n);\n\nexport default Loader;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n    <div className={styles.ButtonWrap}>\n        <button type=\"button\" className={styles.Button} onClick={onClick}>\n            Load more\n        </button>\n    </div>\n\n);\n\nexport default Button;\n\n\nButton.propTypes = {\n    onClick: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\n\nconst fetchImagesWithQuery = (searchQuery, page = 0) => {\n    return axios\n        .get(\n            `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=14234855-711e9a9449f1d753999c1992c`,\n    )\n        .then(response => response.data.hits);\n};\n\nexport default {\n    fetchImagesWithQuery,\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\n\nclass Modal extends Component {\n    static propTypes = {\n        url: PropTypes.string.isRequired,\n        onClose: PropTypes.func.isRequired,\n    };\n\n    componentDidMount() {\n        window.addEventListener('keydown', this.handleKeyDown);\n    };\n\n    componentWillMount() {\n        window.removeEventListener('keydown', this.handleKeyDown);\n    };\n\n    handleKeyDown = ({ key }) => {\n        if (key === 'Escape') {\n            this.props.onClose();\n        }\n    };\n\n    closeByClick = ({ target, currentTarget }) => {\n        if (target === currentTarget) {\n            this.props.onClose();\n        }\n    };\n\n    render() {\n        const { url } = this.props;\n        return (<div className={styles.Overlay}>\n            <div onClnick={this.closeByClick} className={styles.Modal}>\n                <img src={url} alt=\"\" />\n            </div>\n        </div>\n        )\n    }\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport styles from './ImageGallery.module.css';\nimport SearchBar from '../SearchBar/SearchBar'\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Loader from '../Loader/Loader';\nimport Button from '../Button/Button';\nimport ImagesApi from '../services/ImagesApi';\nimport Modal from '../Modal/Modal';\n\nclass ImageGallery extends Component {\n    state = {\n        galleryItems: [],\n        isLoading: false,\n        error: null,\n        searchQuery: \"\",\n        page: 1,\n        largeImageUrl: null,\n        openModal: false,\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        const prevQuery = prevState.searchQuery;\n        const nextQuery = this.state.searchQuery;\n\n        if (prevQuery !== nextQuery) {\n            this.fetchGalleryItems();\n        }\n\n        if (!this.state.isLoading) {\n            window.scrollTo({\n                top: document.documentElement.scrollHeight,\n                behavior: 'smooth',\n            });\n        }\n    };\n\n    fetchGalleryItems = () => {\n        const { searchQuery, page } = this.state;\n        this.setState({ isLoading: true });\n\n        ImagesApi\n            .fetchImagesWithQuery(searchQuery, page)\n            .then(galleryItems =>\n                this.setState(prevState => ({\n                    galleryItems: [...prevState.galleryItems, ...galleryItems],\n                    page: prevState.page + 1,\n                })),\n        )\n            .catch(error => this.setState({ error }))\n            .finally(() => this.setState({ isLoading: false }));\n\n    };\n\n    handleSearchFormSubmit = query => {\n        this.setState({\n            searchQuery: query,\n            page: 1,\n            galleryItems: [],\n        });\n    };\n\n    setLargeImage = largeImageUrl => {\n        this.setState({ largeImageUrl: largeImageUrl });\n        this.toggleModal();\n    };\n\n    toggleModal = () => {\n        this.setState(state => ({ openModal: !state.openModal }));\n    };\n\n    render() {\n        const { galleryItems, isLoading, error, openModal, largeImageUrl } = this.state;\n        return (<>\n            <SearchBar onSubmit={this.handleSearchFormSubmit} />\n            {error && <p>Woops, something went wrong: {error.message} </p>}\n            {isLoading && <Loader />}\n            <ul className={styles.ImageGallery}>\n                {galleryItems.length > 0 && <ImageGalleryItem onOpen={this.setLargeImage} galleryItems={galleryItems} />}\n            </ul>\n            {openModal && <Modal url={largeImageUrl} onClose={this.toggleModal} />}\n            {galleryItems.length > 0 && <Button onClick={this.fetchGalleryItems} />}\n        </>\n        );\n    }\n};\n\nexport default ImageGallery;\n","import React from 'react';\n// import styles from './App.module.css';\nimport ImageGallery from '../ImageGallery/ImageGallery';\n\n\nconst App = () => (\n  <>\n    <link\n      href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"\n      rel=\"stylesheet\"\n    />\n    <ImageGallery />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3Ohr3\",\"SearchForm\":\"SearchBar_SearchForm__2X443\",\"SearchForm_button\":\"SearchBar_SearchForm_button__3SxtH\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2Lvdy\",\"SearchForm_input\":\"SearchBar_SearchForm_input__2nm8w\"};"],"sourceRoot":""}